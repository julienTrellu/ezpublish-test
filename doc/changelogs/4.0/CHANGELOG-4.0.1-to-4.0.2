Changes from 4.0.1 to 4.0.2

*Kernel:
- Implemented enhancement #13668: Improvement to eZContentObject->fetchAttributesByIdentifier()
  (Merged from trunk (4.1.0alpha1) rev. 22392)
- Implemented enhancement #12753: eZRSSExport: Missing atom self link
  (Merged from trunk (4.1.0alpha1) rev. 22543)
- Implemented enhancement #12226: Add guid element to RSS item
  (Merged from trunk (4.1.0alpha1) rev. 22545)
- Implemented enhancement #14021: eZMail::extractEmail() returns name with trailing spaces and quotes.
  (Merged from trunk (4.1.0alpha1) rev. 22612)
- Implemented enhancement #13971: eZSearch::registerSearchObject() inserts duplicates when DelayedIndexing is enabled
- Implemented enhancement #13014: Built-in special character control for user login (similar to passwords)
- Implemented enhancement #14130: Possibility to only set http headers for anonymous users
  (Merged from trunk (4.1.0alpha1) rev. 22684, 22685)
- Implemented enhancement #14144: Handle deletes in a more clever way in eZ Cluster
  (Merged from trunk rev. 22690)
- Implemented enhancement #13792: eZ cluster code is not compatible with Oracle
  (Merged from trunk rev. 22719)
- Implemented enhancement #13576: Remove VS-DBFILE and SP-DBFILE comment markers
  (Merged from trunk rev. 22722)
- Implemented enhancement #14251: Do not encode '(' and ')' in URLs
  (Merged from trunk (4.1.0alpha2) rev. 22808)
- Implemented enhancement #14346: Update usage of ereg() in eZSys to preg
  (Merged from trunk (4.1.0alpha2) rev. 22892)

*Design:

*eZTemplate:
- Implemented enhancement #08743: Changed message for missing translation from warning to debug message.
  (Merged from trunk (4.1.0alpha1) rev. 22343)
- Implemented enhancement #13602: template name and line number on "Parameter % is not an object" warnings
  (Merged from trunk (4.1.0alpha1) rev. 22348)

*Package system:

*Scripts:

*Translations:

*Bugfixes:
- Fixed bug #13542: PHP warning array_merge(): Argument #2 is not an array in eztemplatesetfunction.php
  (Merged from trunk (4.1.0alpha1) rev. 22277)
- Fixed bug #10096: PHP errors when fetch_alias is not definied
  (Merged from trunk (4.1.0alpha1) rev. 22279)
- Fixed bug #13316: Wrong debug message code in eZContentObject::copy()
  (Merged from trunk (4.1.0alpha1) rev. 22281)
- Fixed bug #13441: small grammatical error in installation instructions
  (Merged from trunk (4.1.0alpha1) rev. 22283)
- Fixed bug #11451: Few typo bugs in translation file 3.10.0rc1
  (Merged from trunk (4.1.0alpha1) rev. 22285)
- Fixed bug #13314: typo in ezcontentobject.php - $$copiedNodeAssignment
  (Merged from trunk (4.1.0alpha1) rev. 22287)
- Fixed bug #13307: Wrongly placed class-closing curly bracket in ezselectiontype.php
  (Merged from trunk (4.1.0alpha1) rev. 22289)
- Fixed bug #13496: Wrong debug message from eZUser::loginUser when using crypt hashing
  (Merged from trunk (4.1.0alpha1) rev. 22291)
- Fixed bug #13060: class/copy doesn't generate new remote id
  (Merged from trunk (4.1.0alpha1) rev. 22297)
- Fixed bug #10593: MatchOrder=uri;host does not work.
  (Merged from trunk (4.1.0alpha1) rev. 22300)
- Fixed bug #13315: eZCollaborationSimpleMessage::* not defined static
  (Merged from trunk (4.1.0alpha1) rev. 22303)
- Fixed bug #13412: Stupid query when creating new version of content object with an empty ezkeyword attribute
  (Merged from trunk (4.1.0alpha1) rev. 22305)
- Fixed bug #13554: Autoload files generated on Windows use backslash as directory separator
  (Merged from trunk (4.1.0alpha1) rev. 22310)
- Fixed bug #13528: Treemenu broken
  (Merged from trunk (4.1.0alpha1) rev. 22313)
- Fixed bug #13515: changelog2xmltext issues
  (Merged from trunk (4.1.0alpha1) rev. 22316)
- Fixed bug #12099: eZRunCronjobs class is defined in a CLI script.
  (Merged from trunk (4.1.0alpha1) rev. 22012)
- Fixed bug #11748: Insufficient installation documentation for PostgreSQL.
  (Merged from trunk (4.1.0alpha1) rev. 22009)
- Fixed bug #11637: Texttoimage in clustering mode not in the database
  (Merged from trunk (4.1.0alpha1) rev. 22320)
- Fixed bug #13552: Broken datamap caching when copying content objects
  (Merged from trunk (4.1.0alpha1) rev. 22340)
- Fixed bug #13186: UserParameters works differently in 4.0 compared to 3.10
  (Merged from trunk (4.1.0alpha1) rev. 22353)
- Fixed bug #13604: url's are not encoded properly while serializing object of eZURL datatype
  (Merged from trunk (4.1.0alpha1) rev. 22355)
- Fixed bug #13605: updateniceurls.php does not make use of generateSQLINStatement()
  (Merged from trunk (4.1.0alpha1) rev. 22357)
- Fixed bug #13627: Files larger than 16MB does not get stored when using clustering.
  (Merged from trunk (4.1.0alpha1) rev. 22359)
- Fixed bug #13628: RSS import publish objects as anonymous
  (Merged from trunk (4.1.0alpha1) rev. 22361)
- Fixed bug #13630: eZDebug sets 0664 as file permissions when creating new log file
  (Merged from trunk (4.1.0alpha1) rev. 22364)
- Fixed bug #13364: Wrong examples in title attribute of "New URL wildcard" and "Destination" text fields
  (Merged from trunk (4.1.0alpha1) rev. 22374)
- Fixed bug #12411: Doxygen comment \deprecated for eZURLWildcard::cacheInfo()
  (Merged from trunk (4.1.0alpha1) rev. 22376)
- Fixed bug #13041: design/admin/edit_sections.tpl bugs
  (Merged from trunk (4.1.0alpha1) rev. 22378)
- Fixed bug #12410: updatecontentobjectname.php displays wrong messages
  (Merged from trunk (4.1.0alpha1) rev. 22380)
- Fixed bug #13616: ezcsvimport.php does not import files/images
- Fixed bug #13667: ezcsvimport.php small issues
  (Merged from trunk (4.1.0alpha1) rev. 22390)
- Fixed bug #13492: http link's are lost from content after deleting older version's of multi lingual content object.
  (Merged from trunk (4.1.0alpha1) rev. 22395)
- Implemented enhancement #12267: eZSoapClient unable to use SSL with different port than 443
# BC fix
  (Merged from trunk (4.1.0alpha1) rev. 22399)
- Fixed bug #13682: eZContentObjectTreenode - updateSubTreePath() might fail, if node does not have a parent node.
  (Merged from trunk (4.1.0alpha1) rev. 22403)
- Fixed bug #13697: eZKeyword doesn't pass column parameter to $db->lastSerialID
  (Merged from trunk (4.1.0alpha1) rev. 22409)
- Fixed bug #10903: select count in reversereverserelatedlist.php line 114
  (Merged from trunk (4.1.0alpha1) rev. 22420)
- Fixed bug #13704: Fetching/counting relations in PosgtreSQL includes non visible relations
  (Merged from trunk (4.1.0alpha1) rev. 22422)
- Fixed bug #13622: mutex - windows file are not remove
  (Merged from trunk (4.1.0alpha1) rev. 22427)
- Fixed bug #13712: Multiprice datatype shows wrong price after multiple calls in template
  (Merged from trunk (4.1.0alpha1) rev. 22430)
- Fixed bug #13713: Content Structure Tree Menu doesn't work properly.
  (Merged from trunk (4.1.0alpha1) rev. 22435)
- Fixed bug #13715: typo in ezserializedobjectnamelist.php
  (Merged from trunk (4.1.0alpha1) rev. 22437)
- Fixed bug #13669: ezobjectrelationtype fromString() code is not right
  (Merged from trunk (4.1.0alpha1) rev. 22439)
- Fixed bug #11991: Using quotes in object titles breaks image conversion
  (Merged from trunk (4.1.0alpha1) rev. 22443)
- Fixed bug #13337: Shopping basket is not translation aware on the product name
  (Merged from trunk (4.1.0alpha1) rev. 22445)
- Fixed bug #13655: Writing of eZCharTransform cache is not atomic
  (Merged from trunk (4.1.0alpha1) rev. 22448)
- Fixed bug #13737: Post Variable HideRemoveConfirmation will be lost
- Fixed bug #13736: RSS export error
- Fixed bug #13740: RSS export may fail due to special characters in text (title, description)
- Fixed bug #13738: PHP Notice in eZRSSExport::ImagePath()
  (Merged from trunk (4.1.0alpha1) rev. 22462)
- Fixed bug #13603: warning when using ezkeyword
  (Merged from trunk (4.1.0alpha1) rev. 22465)
- Fixed bug #13271: File permissions on shared environments
  (Merged from trunk (4.1.0alpha1) rev. 22467)
- Fixed bug #13655: Writing of eZCharTransform cache is not atomic
  (Merged from trunk (4.1.0alpha1) rev. 22476)
- Fixed bug #11476: Problem with information collection sql query
  (Merged from trunk (4.1.0alpha1) rev. 22478)
- Fixed bug #13598: ezpopupmenu.js doesn't play nice with Prototype library, or Safari
  (Merged from trunk (4.1.0alpha1) rev. 22481)
- Fixed bug #13759: Problem with long image paths in clustered setups
  (Merged from trunk (4.1.0alpha1) rev. 22480)
- Fixed bug #13780: Cannot add image to root node in clustered DB
  (Merged from trunk (4.1.0alpha1) rev. 22487)
- Fixed bug #13781: php warning in ezpm while importing packages
  (Merged from trunk (4.1.0alpha1) rev. 22491)
- Fixed bug #13790: Transformation cache files differ sometimes
  (Merged from trunk (4.1.0alpha1) rev. 22494)
- Fixed bug #13769: A redirecting URL alias to the main node results in a kernel(1) error
  (Merged from trunk (4.1.0alpha1) rev. 22499)
- Fixed bug #13771: MYSQL Syntax error
  (Merged from trunk (4.1.0alpha1) rev. 22501)
- Fixed bug #13799: Wrong destination URL used in warning message when trying to add an existing alias
  (Merged from trunk (4.1.0alpha1) rev. 22503)
- Fixed bug #13783: Flash Player 10 & SWF problems
  (Merged from trunk (4.1.0alpha1) rev. 22506)
- Fixed bug #13815: eZContentObject->fetchAttributesByIdentifier fails if $languageArray contains non string values
  (Merged from trunk (4.1.0alpha1) rev. 22519)
- Fixed bug #13824: get_class on a non-object in eZNotificationEventType::create()
  (Merged from trunk (4.1.0alpha1) rev. 22523)
- Fixed bug #13841: Template override mechanism does not work with information collectors
  (Merged from trunk (4.1.0alpha1) rev. 22526)
- Fixed bug #13514: Enabling CompileComments in site.ini / TemplateSettings leads to fatal error
  (Merged from trunk (4.1.0alpha1) rev. 22529)
- Fixed bug #13910: Misspelled class name in eZScript
  (Merged from trunk (4.1.0alpha1) rev. 22547)
- Fixed bug #12925: Preview in cluster mode
  (Merged from trunk (4.1.0alpha1) rev. 22555)
- Fixed bug #13092: Content object package import does not keep section
  (Merged from trunk (4.1.0alpha1) rev. 22566)
- Fixed bug #13246: ezorderitem->VATValue needs to float rather then int.
  (Merged from trunk (4.1.0alpha1) rev. 22569)
- Fixed bug #13942: Bug in ezdebug.php / accumulatorStart()
  (Merged from trunk (4.1.0alpha1) rev. 22580)
- Fixed bug #13856: cleanupList missing static declaration
  (Merged from trunk (4.1.0alpha1) rev. 22583)
- Fixed bug #13951: multiprice datatype - missing initializeObjectAttribute function.
  (Merged from trunk (4.1.0alpha1) rev. 22586)
- Fixed bug #13962: The script updatesearchindex.php is not usable with PostgreSQL
  (Merged from trunk (4.1.0alpha1) rev. 22588)
- Fixed bug #13048: db port parameter can be specified in setup wizard but is not taken into account
  (Merged from trunk (4.1.0alpha1) rev. 22590)
- Fixed bug #13029: ez4: Error: eZTSTranslator::loadTranslationFile, Unknown element name: defaultcodec
  (Merged from trunk (4.1.0alpha1) rev. 22594)
- Fixed bug #13181: call_user_func() warning on ezfsfilehandler.php
  (Merged from trunk (4.1.0alpha1) rev. 22596)
- Fixed bug #13840: Parameter miss matching in eznodeviewfunctions.php
  (Merged from trunk (4.1.0alpha1) rev. 22599)
- Fixed bug #13089: AllowEmptySearch doesn't work
  (Merged from trunk (4.1.0alpha1) rev. 22601)
- Fixed bug #14020: eZMail does not validate addresses valid under RFC2822
  (Merged from trunk (4.1.0alpha1) rev. 22607)
- Fixed bug #12795: Modules cannot be a view anymore
  (Merged from trunk (4.1.0alpha1) rev. 22622, 22628)
- Fixed bug #13992: Template warnings in design/admin/templates/relations.tpl
  (Merged from trunk (4.1.0alpha1) rev. 22624)
- Fixed bug #14054: Relaxng validation of certain translation files fails - byte element
  (Merged from trunk (4.1.0alpha1) rev. 22639)
- Fixed bug #8005: extension translation cache doesn't respect site access settings
  (Merged from trunk (4.1.0alpha1) rev. 22646, 22661)
- Fixed bug #13638: Updated and fixed locale for cze-CZ
- Fixed bug #14079: SSLZones cause file downloads to fail over SSL in Internet Explorer
  (Merged from trunk (4.1.0alpha1) rev. 22650)
- Fixed bug #13147: Duplicated "published" dates in ezcontentobject table after ezwebin/ezflow installation
  (Merged from trunk (4.1.0alpha1) rev. 22652)
- Fixed bug #11754: PHP warning about undefined index db_required_version when database connection fails in setup wizard
  (Merged from trunk (4.1.0alpha1) rev. 22654)
- Fixed bug #13983: search_count and search_result do not match in multilanguage sites
  (Merged from trunk (4.1.0alpha1) rev. 22656)
- Fixed bug #13537: Invalid XHTML due to headers' anchor
  (Merged from trunk (4.1.0alpha1) rev. 22663)
- Fixed bug #12893: Fatal error: Call to a member function removeThis() on a non-object in kernel\content\draft.php on line 60
  (Merged from trunk (4.1.0alpha1) rev. 22676)
- Fixed bug #13433: dbbackends/mysql.php doesn't log error correctly
  (Merged from trunk (4.1.0alpha1) rev. 22678)
- Fixed bug #13952: Workflow cronjob gives fatal error if node is moved to different location before approval.
  (Merged from trunk (4.1.0alpha1) rev. 22681)
- Fixed bug #12675: share/filelist.md5 : is missing all css and javascript files
  (Merged from trunk (4.1.0alpha1) rev. 22687, 22734)
- Fixed bug #14077: eZURLAliasML database table lock and unlock code causes implicit commit of database transaction
  (Merged from trunk (4.1.0alpha1) rev. 22696, trunk (4.1.0alpha2) rev. 22868)
- Fixed bug #14150: Incorrect test in eZDBFileHandlerMysqlBackend::_exists()
  (Merged from trunk (4.1.0alpha1) rev. 22706
- Fixed bug #14153: Problems with image cluster script if $_SERVER["SCRIPT_URL"] does not exist
  (Merged from trunk (4.1.0alpha1) rev. 22711
- Fixed bug #14155: Warning given when empty string given as input to formatDateType() and formatDateTimeType() in eZLocale
  (Merged from trunk (4.1.0alpha1) rev. 22714)
- Fixed bug #14157: eZDate::create() and eZDateTime::create() should be marked as static
  (Merged from trunk (4.1.0alpha1) rev. 22723)
- Fixed bug #14115: PHP Notice when a link in an eZXMLBlock points to a removed node
  (Merged from trunk (4.1.0alpha1) rev. 22726)
- Fixed bug #14085: ezdefaultvathandler raise some PHP5 strict issues
  (Merged from trunk (4.1.0alpha2) rev. 22742)
- Fixed bug #14161: eZPDFTable::callImage missing inclusion of 'kernel/common/image.php'
  (Merged from trunk (4.1.0alpha2) rev. 22756)
- Fixed bug #14209: Bug in registerAutoloadFunctions
  (Merged from trunk (4.1.0alpha2) rev. 22769)
- Fixed bug #13432: eZApproveType::cleanupAfterRemoving() is arrogant, it behaves as if it's the only event type
  (Merged from trunk (4.1.0alpha2) rev. 22771)
- Fixed bug #13766: RedirectURIAfterPublish session variable is not removed after discarding a draft
  (Merged from trunk (4.1.0alpha2) rev. 22773)
- Fixed bug #3136: DebugRedirection
  (Merged from trunk (4.1.0alpha2) rev. 22775)
- Fixed bug #14137: index_treemenu is missing register_shutdown_function( 'session_write_close' ); line
  (Merged from trunk (4.1.0alpha2) rev. 22810)
- Fixed bug #14246: Missing tooltip
  (Merged from trunk (4.1.0alpha2) rev. 22812, 22813)
- Fixed bug #14240: eZTemplateCacheFunction::processCached has twice the parameter $subtreeExpiry
  (Merged from trunk (4.1.0alpha2) rev. 22815)
- Fixed bug #12785: Multilingual url aliases
  (Merged from trunk (4.1.0alpha2) rev. 22802, 22806)
- Fixed bug #12720: Unable to edit a node
  (Merged from trunk (4.1.0alpha2) rev. 22802, 22806)
- Fixed bug #14225: [TreeMenu] AutoopenCurrentNode does not work in browse mode
  (Merged from trunk (4.1.0alpha2) rev. 22826)
- Fixed bug #13529: Pagelayout override doesn't work in content/versionview if siteaccess is not forced in parameters
  (Merged from trunk (4.1.0alpha2) rev. 22829)
- Fixed bug #12325: fetch reverse_related_objects return duplicated objects
  (Merged from trunk (4.1.0alpha2) rev. 22831)
- Fixed bug #13579: Wrong new drafts count in content/history view [with patch]
  (Merged from trunk (4.1.0alpha2) rev. 22833)
- Fixed bug #13385: UserClassID used in kernel/classes/workflowtypes/event/ezapprove/ezapprovetype.php
  (Merged from trunk (4.1.0alpha2) rev. 22835)
- Fixed bug #12424: user not logged out after deletion
  (Merged from trunk (4.1.0alpha2) rev. 22835)
- Fixed bug #14236: Package fails to import Matrix columns
  (Merged from trunk (4.1.0alpha2) rev. 22838)
- Fixed bug #14268: eZPackage doesn't store text content properly when it contains some special chars
  (Merged from trunk (4.1.0alpha2) rev. 22840)
- Fixed bug #14261: Default object availability and Default sorting of children lost when installing content classes as package
  (Merged from trunk (4.1.0alpha2) rev. 22842)
- Fixed bug #14128: ezlupdate does not compile
  (Merged from trunk (4.1.0alpha2) rev. 22850)
- Fixed bug #14198: class/view.php contains code to change sorting field & order
  (Merged from trunk (4.1.0alpha2) rev. 22852)
- Fixed bug #14305: eZApprove creates a collaboration participant link with participant_id 0 when only approver groups are chosen
  (Merged from trunk (4.1.0alpha2) rev. 22861)
- Fixed bug #14319: (Missing mime type for dmg files).
- Fixed bug #14330: TYPE should be ENGINE
  (Merged from trunk (4.1.0alpha2) rev. 22870)
- Fixed bug #14063: DB connection error when uploading packages in site selection step of setup wizard
  (Merged from trunk (4.1.0alpha2) rev. 22875)
- Fixed bug #13684: Adding a new new object from the edit view of an ezobjectrelationlisttype attribute can create multiple copies of the new object
  (Merged from trunk (4.1.0alpha2) rev. 22884)
- Fixed bug #14336: Ampersand in attribute content produces wrong XML
  (Merged from trunk (4.1.0alpha2) rev. 22883)
- Fixed bug #14337: Trailing Slash in DocumentRoot makes ezurl, ezdesign, ezroot fail
  (Merged from trunk (4.1.0alpha2) rev. 22887)
- Fixed bug #13897: A user can change priorities of nodes while he's not allowed to
  (Merged from trunk (4.1.0alpha2) rev. 22895)
- Fixed bug #13268: You can delete bookmarks of other users
- Fixed bug #14120: eZ Publish OS Commanding executing exploit
